<article class="wrapper style1">
    <div class="container">
        <div class="row" style="align-items: center;">
            <div class="col-4">
                <div style="position: relative; padding-bottom: 20px;">
                    <img src="../images/profile-pic.jpg" alt="Quim Motger" class="profile-image" style="width: 100%; max-width: 300px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); margin-top: 40px;" />
                    <div style="position: absolute; bottom: 0; left: 0; right: 0; height: 20px; background: linear-gradient(to bottom, rgba(248,249,250,0), #f8f9fa);"></div>
                </div>
            </div>
            <div class="col-8" style="text-align: left;">
                <header>
                    <h1><strong>Quim Motger</strong></h1>
                </header>
                <p style="color: #333333; text-align:justify">I am an assistant professor (<em>professor lector</em>) at the <a href="https://www.essi.upc.edu/en">Department of Service and Information System Engineering</a> (ESSI) and a member of the <a href="https://gessi.upc.edu/en">Software and Service Engineering Research Group</a> (GESSI), from <a href="https://www.upc.edu/en?set_language=en">Universitat Politècnica de Catalunya</a> (UPC-BarcelonaTech). My research is focused on the field of requirements engineering, natural language processing, agentic systems and knowledge graphs.</p>
                <p style="color: #333333; text-align:justify">I graduated with a BSc in Informatics Engineering from Universitat Politècnica de Catalunya (UPC) in 2017 and a MSc in Informatics Engineering from Universitat Oberta de Catalunya (UOC) in 2020. I completed my PhD cum laude in Computing from Universitat Politècnica de Catalunya. During my PhD, I did a 4-month research stay at the Istituto di Linguistica Computazionale "Antonio Zampolli" del Consiglio Nazionale delle Ricerche (Pisa, Italy).</p>
            </div>
        </div>

        <div class="row" style="margin-top: 0px;">
            <div class="col-4">
                <a href="#" onclick="document.querySelector('a[data-section=\'publications\']').click(); return false;" style="text-decoration: none;">
                    <div class="metric-box" style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 10px; min-height: 250px; display: flex; flex-direction: column; justify-content: center; transition: all 0.3s ease; cursor: pointer;">
                        <i class="fas fa-book" style="font-size: 2.5em; color: #3498db; margin-bottom: 15px; transition: all 0.3s ease;"></i>
                        <h3 style="color: #333333; margin-bottom: 10px; transition: all 0.3s ease;">Publications</h3>
                        <div id="publications-count" class="metric-number" style="font-size: 2em; font-weight: bold; color: #2c3e50; margin-bottom: 10px; transition: all 0.3s ease;">...</div>
                        <p style="color: #333333; margin: 0; transition: all 0.3s ease;">Including book chapters, journal papers, and conference papers.</p>
                    </div>
                </a>
            </div>
            <div class="col-4">
                <a href="#" onclick="document.querySelector('a[data-section=\'research\']').click(); return false;" style="text-decoration: none;">
                    <div class="metric-box" style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 10px; min-height: 250px; display: flex; flex-direction: column; justify-content: center; transition: all 0.3s ease; cursor: pointer;">
                        <i class="fas fa-project-diagram" style="font-size: 2.5em; color: #3498db; margin-bottom: 15px; transition: all 0.3s ease;"></i>
                        <h3 style="color: #333333; margin-bottom: 10px; transition: all 0.3s ease;">Projects</h3>
                        <div id="projects-count" class="metric-number" style="font-size: 2em; font-weight: bold; color: #2c3e50; margin-bottom: 10px; transition: all 0.3s ease;">...</div>
                        <p style="color: #333333; margin: 0; transition: all 0.3s ease;">Including European, national (Spanish) and regional (Catalan) research projects.</p>
                    </div>
                </a>
            </div>
            <div class="col-4">
                <a href="#" onclick="document.querySelector('a[data-section=\'teaching\']').click(); return false;" style="text-decoration: none;">
                    <div class="metric-box" style="text-align: center; padding: 20px; background: #f8f9fa; border-radius: 10px; min-height: 250px; display: flex; flex-direction: column; justify-content: center; transition: all 0.3s ease; cursor: pointer;">
                        <i class="fas fa-graduation-cap" style="font-size: 2.5em; color: #3498db; margin-bottom: 15px; transition: all 0.3s ease;"></i>
                        <h3 style="color: #333333; margin-bottom: 10px; transition: all 0.3s ease;">Teaching</h3>
                        <div id="teaching-years" class="metric-number" style="font-size: 2em; font-weight: bold; color: #2c3e50; margin-bottom: 10px; transition: all 0.3s ease;">...</div>
                        <p style="color: #333333; margin: 0; transition: all 0.3s ease;">Years of teaching experience in various degrees at UPC-BarcelonaTech and UOC.</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</article>

<style>
.metric-box:hover {
    transform: scale(1.05);
    background: #3498db !important;
}

.metric-box:hover i,
.metric-box:hover h3,
.metric-box:hover .metric-number,
.metric-box:hover p {
    color: white !important;
}

/* Mobile responsive styles */
@media screen and (max-width: 768px) {
    .row:first-child .col-4:first-child {
        display: none; /* Only hide the profile picture on mobile */
    }
    
    .col-8 {
        width: 100% !important; /* Make text take full width on mobile */
    }
    
    .row:last-child .col-4 {
        width: 100% !important; /* Make metric boxes take full width on mobile */
        margin-bottom: 20px; /* Add some spacing between boxes */
    }

    .metric-box {
        min-height: 200px !important; /* Reduce height on mobile */
        margin: 0 10px; /* Add some horizontal margin */
    }
}
</style>

<script>
    // Function to count publications from bibliography.bib
    async function countPublications() {
        try {
            const response = await fetch('../data/bibliography.bib');
            if (!response.ok) {
                throw new Error('Failed to load bibliography');
            }
            const bibtex = await response.text();
            // Count entries by counting lines that start with @
            const entries = bibtex.match(/^@\w+/gm);
            const count = entries ? entries.length : 0;
            document.getElementById('publications-count').textContent = count;
        } catch (error) {
            console.error('Error counting publications:', error);
            document.getElementById('publications-count').textContent = '20+';
        }
    }
    
    // Function to count projects from projects.json
    async function countProjects() {
        try {
            const response = await fetch('../data/projects.json');
            if (!response.ok) {
                throw new Error('Failed to load projects');
            }
            const projects = await response.json();
            document.getElementById('projects-count').textContent = projects.length;
        } catch (error) {
            console.error('Error counting projects:', error);
            document.getElementById('projects-count').textContent = '7';
        }
    }
    
    // Function to calculate teaching years from teaching.json
    async function calculateTeachingYears() {
        try {
            const response = await fetch('../data/teaching.json');
            if (!response.ok) {
                throw new Error('Failed to load teaching data');
            }
            const degrees = await response.json();
            
            // Find the earliest year from all semesters
            let earliestYear = null;
            degrees.forEach(degree => {
                degree.courses.forEach(course => {
                    course.semesters.forEach(semester => {
                        const year = parseInt(semester.split('-')[0]);
                        if (earliestYear === null || year < earliestYear) {
                            earliestYear = year;
                        }
                    });
                });
            });
            
            if (earliestYear) {
                const currentYear = new Date().getFullYear();
                const years = currentYear - earliestYear;
                document.getElementById('teaching-years').textContent = years + '+';
            } else {
                document.getElementById('teaching-years').textContent = '7+';
            }
        } catch (error) {
            console.error('Error calculating teaching years:', error);
            document.getElementById('teaching-years').textContent = '7';
        }
    }
    
    // Load all metrics when page loads
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            countPublications();
            countProjects();
            calculateTeachingYears();
        });
    } else {
        countPublications();
        countProjects();
        calculateTeachingYears();
    }
</script> 